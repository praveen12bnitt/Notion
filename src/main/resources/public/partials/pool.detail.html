<div>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">{{model.name}} <i class="fa fa-edit" ng-click="edit()"></i></h2>
      </div>
      <div class="panel-body">
        <b>Name:</b> {{model.name}}<p/>
        <b>Application Entity Title:</b> {{model.applicationEntityTitle}}<p/>
        <b>Description:</b> {{model.description}}<p/>
        <b>Listening port:</b> {{model.port}}<p/>
        <b>Anonymize?</b> {{model.anonymize}}<p />
      </div>
    </div>


    <div class="panel panel-default">
      <div class="panel-heading">
        <h2 class="panel-title">Devices ({{deviceCollection.length}}) <i class="fa fa-plus-circle" ng-click="editDevice(null)"></i></h3>
        </div>
        <div class="panel-body">
          <table class="table table-striped table-hover table-condensed">
            <thead>
              <tr>
                <td>AETitle</td>
                <td>Hostname</td>
                <td>Port</td>
                <td>Description</td>
                <td></td>
                <td></td>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="device in deviceCollection.models">
                <td>{{device.get('applicationEntityTitle')}}</td>
                <td>{{device.get('hostName')}}</td>
                <td>{{device.get('port')}}</td>
                <td>{{device.get('description')}}</td>
                <td><i class="fa fa-edit" ng-click="editDevice(device)"></i></td>
                <td><i class="fa fa-times-circle" ng-click="deleteDevice(device)"></i></td>
              </tr>
            </tbody>
          </table>

          <div class="input-group">
            <input type="text" class="form-control" ng-model="testDeviceFull" placeholder="AET@Hostname:port" ng-enter="testDeviceMatch()">
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" ng-click="testDeviceMatch()">Test</button>
            </span>
          </div>
          <div>

            <div class="row">
              <div class="col-md-4">Store: <i class="fa" ng-class="{'fa-check': testResult.store, 'fa-times': !testResult.store}"></i>
              </div>
              <div class="col-md-4">Query: <i class="fa" ng-class="{'fa-check': testResult.query, 'fa-times': !testResult.query}"></i></div>
              <div class="col-md-4"> Retrieve: <i class="fa" ng-class="{'fa-check': testResult.retrieve, 'fa-times': !testResult.retrieve}"></i></div>
            </div>
          </div>
          </div>
          </div>


      <div class="panel panel-default">
        <div class="panel-heading">
          <h2 class="panel-title">CTP Configuration <i class="fa fa-save" ng-click="saveCTP()"></i></h3>
          </div>
          <div class="panel-body">
            <div ui-ace="{theme:'twilight'}" ng-model="ctpScript">
            </div>
            <button class="btn btn-primary" ng-click="saveCTP()">Save</button>
          </div>
        </div>


        <div class="panel panel-default">
          <div class="panel-heading">
            <h2 class="panel-title">Anonymization Script <i class="fa fa-save" ng-click="saveScript()"></i></h3>
            </div>
            <div class="panel-body">
              <div ui-ace="{mode:'javascript', onLoad : aceLoaded}" ng-model="script"></div>
              <p class="form-control-static">{{tryResult.trunc(250)}}</p>
              <button class="btn btn-primary" ng-click="tryScript()">Try Script</button>
              <button class="btn btn-primary" ng-click="saveScript()">Save</button>
            </div>

          </div>
